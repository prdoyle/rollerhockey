<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <!--<link rel="stylesheet" href="css/style.css">-->
  <title>Roller hockey calculator</title>
</head>

<script type="text/javascript">

function inputFetcher(moduleName) {
	return function (inputName) {
		return parseFloat(document.getElementById(moduleName + "-" + inputName).value);
	};
}

function outputter(moduleName) {
	return function (outputName, value) {
		return document.getElementById(moduleName + "-" + outputName).value = value;
	};
}

function rollDie(numSides) {
	return 1 + Math.floor( numSides * Math.random() );
}

function updateShot() {
	input = inputFetcher("shot");
	off = input("off");
	goa = input("goa");
	qual = input("qual");

	output = outputter("shot");
	output("out", Math.floor( (off / goa)*(off / 10)*(qual+4) ));
}

function updateDefend() {
	input = inputFetcher("defend");
	def = input("def");
	off = input("off");

	output = outputter("defend");
	output("out", Math.floor( (def/3)*(def/off) ));
}

function updateSave() {
	input = inputFetcher("save");
	goa = input("goa");
	qual = input("qual");

	output = outputter("save");
	output("out", Math.floor( goa / (5 * qual) ));
}

function selectHighlight() {
	home = rollDie(4)
	away = rollDie(4)

	roll = rollDie(home+away)

	output = outputter("highlight");
	output("home", home);
	output("away", away);
	output("winner", (roll <= home)? "Home" : "Away")
}

</script>

<body>

<h2>Shot</h2>

<form action="/fictitious_page.html">
  <label for="shot-off">OFF:</label>
  <textarea id="shot-off" value="456" onkeyup="updateShot()"></textarea>
  <label for="shot-goa">GOA:</label>
  <textarea id="shot-goa" value="123" onkeyup="updateShot()"></textarea>
  <label for="shot-qual">QUAL:</label>
  <textarea id="shot-qual" value="123" onkeyup="updateShot()"></textarea>
  <br/>
  <label for="shot-out">Over:</label>
  <textarea id="shot-out" value="456"></textarea>
</form>

<h2>Defend</h2>

<form action="/fictitious_page.html">
  <label for="defend-def">DEF:</label>
  <textarea id="defend-def" value="123" onkeyup="updateDefend()"></textarea>
  <label for="defend-off">OFF:</label>
  <textarea id="defend-off" value="456" onkeyup="updateDefend()"></textarea>
  <br/>
  <label for="defend-out">Over:</label>
  <textarea id="defend-out" value="456"></textarea>
</form>

<h2>Save</h2>

<form action="/fictitious_page.html">
  <label for="save-goa">GOA:</label>
  <textarea id="save-goa" value="123" onkeyup="updateSave()"></textarea>
  <label for="save-qual">QUAL:</label>
  <textarea id="save-qual" value="456" onkeyup="updateSave()"></textarea>
  <br/>
  <label for="save-out">Over:</label>
  <textarea id="save-out" value="456"></textarea>
</form>

<h2>Highlight selector</h2>

<div>
  <button onclick="selectHighlight()">GO!</button>
  <textarea id="highlight-winner" value="456"></textarea>
  <br/>
  <label for="highlight-home">Home:</label>
  <textarea id="highlight-home" value="456"></textarea>
  <label for="highlight-away">Away:</label>
  <textarea id="highlight-away" value="456"></textarea>
</div>

  
</body>
</html>
